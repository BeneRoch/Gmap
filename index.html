<html>
<body>

<div id="test" class="test" style="border: 1px solid blue; width: 100%; height: 100%; background: red;"></div>

</body>


<script>
	var map;
	function initialize()
	{
		map = new BB.gmap.controller(document.getElementById('test'), {
			marker_creation_callback : function( marker ) {
				console.log(marker, 'marker');
			},
			default_styles: {
			    strokeColor: '#000000',
			    strokeOpacity: 0.8,
			    strokeWeight: 3,
			    fillColor: '#ffffff',
			    fillOpacity: 0.35,
				hover : {
				    strokeColor: '#000000',
				    strokeOpacity: 1,
				    strokeWeight: 2,
				    fillColor: '#ffffff',
				    fillOpacity: 0.5
				},
				focused : {
				    fillOpacity: 0.8
				}
			},
			use_clusterer: false,
		   	map: {
	  			center: {
					x 	: 45.3712923,
					y 	: -73.9820994
				},
				zoom: 3,
				mapType 	: 'roadmap',
				coordsType	: 'inpage', // array, json? (vs ul li)
				map_mode	: 'default'
			},
			places :{
				test22 : {
					categories: 'test,test1,test2',
					type : 'marker',
		            icon : {
		            	src : 'http://labloco.com/infoalertes3/modules/infoalertes3/assets/images/public/marquee.svg',
		            	height : 60,
		            	width: 60
		            },
					coords : [ 45.577997,-73.76850009999998 ],
					draggable: true,
					editable: true
				},
				test : {
					categories: 'test,test1,test2',
					type : 'marker',
		            icon : {
						path: 'M 125,5 155,90 245,90 175,145 200,230 125,180 50,230 75,145 5,90 95,90 z',
						fillColor: 'yellow',
						icons : [{
							icon: "http://localhost/pincourt/www/modules/pincourt/assets/images/svgs/map-marker.svg",
							offset: '50%'
						}],
						fillOpacity: 0.8,
						scale: 1,
						strokeColor: 'gold',
						strokeWeight: 14,
						height: '20px',
						width: '20px'
					},
					coords : [ 45.577997,-73.76850009999998 ],
					draggable: true
				},
				line : {
					type : 'line',
					paths: [
						[37.772323, -122.214897],
						[21.291982, -157.821856],
						[-18.142599, 178.431]
					],
					onmouseover: function(object, event) {

					},
					styles : {
					    strokeColor: '#99cc00',
					    strokeOpacity: 0.8,
					    strokeWeight: 3,
					    fillColor: '#FF0000',
					    fillOpacity: 0.35,
						hover : {
						    strokeColor: '#ffffff',
						    strokeOpacity: 0.8,
						    strokeWeight: 3,
						    fillColor: '#000000',
						    fillOpacity: 1
						},
						focused : {
						    fillOpacity: 1
						}
					}
				},
				polygon : {
					editable: true,
					categories: 'test',
					type : 'polygon',
					paths: [
						[37.272323, -122.214897],
						[21.191982, -197.821856],
						[-18.142599, 138.431]
					],
					onmouseover: function(object, event) {

					},
					styles : {
					    strokeColor: '#000000',
					    strokeOpacity: 0.8,
					    strokeWeight: 3,
					    fillColor: '#ffffff',
					    fillOpacity: 0.35,
						hover : {
						    strokeColor: '#000000',
						    strokeOpacity: 1,
						    strokeWeight: 2,
						    fillColor: '#ffffff',
						    fillOpacity: 0.5
						},
						focused : {
						    fillOpacity: 0.8
						}
					}
				}
			}
		})


		map.add_place_by_address('test_un_autre', '1859 iberville, montr√©al, qc, h2k3c4', {
			type : 'marker',
			editable: true,
			icon : {
				src : 'assets/images/marker.png',
				width: 50,
				height: 50
			},
			icon_selected : {
				src : 'assets/images/marker-selected.png',
				height: 50,
				width: 50
			},
		    loaded_callback : function( obj ) {
		    	// obj.controller().map().setCenter( obj.object().getPosition() );
		    }
		})
		map.init().ready( function() { alert('READY!') });
		map.fit_bounds();
		map.set_styles([{"featureType":"all","elementType":"all","stylers":[{"saturation":-100},{"gamma":1.15}]},{"featureType":"administrative","elementType":"labels.text","stylers":[{"color":"#00447b"},{"weight":0.1},{"hue":"#00447b"}]},{"featureType":"administrative","elementType":"labels.icon","stylers":[{"color":"#00447b"}]},{"featureType":"road.highway","elementType":"labels.icon","stylers":[{"weight":0.1}]},{"featureType":"road.highway","elementType":"labels.text.fill","stylers":[{"color":"#00447b"}]},{"featureType":"road.highway","elementType":"labels.text.stroke","stylers":[{"color":"#ffffff"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road.arterial","elementType":"labels.text","stylers":[{"color":"#00447b"},{"weight":0.1}]},{"featureType":"all","elementType":"all","stylers":[{"lightness":-12}]}]);
		map.on('focus', function(item) {
		});

	}
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script src="http://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&language=fr&callback=initialize"></script>

<!-- <script src="assets/scripts/dist/gmap.min.js"></script> -->
<script src="assets/scripts/dist/bb.gmap.js"></script>
</html>